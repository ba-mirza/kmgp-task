<div class="min-h-screen flex flex-col items-center">
  <h1 class="mt-6 text-2xl font-medium mb-6">Список заказов</h1>

  <div class="w-full max-w-6xl">
    <div class="flex items-center gap-4 mb-2">
      <ui-input label="Поиск по клиенту" [control]="searchForms.controls.customerName" />
      <ui-input label="Фильтр по статусу" [control]="searchForms.controls.status" />
    </div>
    <p-table
      [value]="(filteredOrders() | async)!"
      [rows]="10"
      [rowsPerPageOptions]="[10, 25, 50]"
      [paginator]="paginatorState()"
      [scrollable]="scrollableState()"
      [tableStyle]="{ 'min-width': '50rem' }"
             class="p-datatable-striped p-datatable-gridlines">
      <ng-template pTemplate="header">
        <tr>
          <th>Номер заказа</th>
          <th>Клиент</th>
          <th>Статус</th>
          <th pSortableColumn="total">
            Сумма
            <p-sortIcon field="total" />
          </th>
          <th pSortableColumn="date">
            Дата создания
            <p-sortIcon field="date" />
          </th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-order>
        <tr>
          <td>{{ order.number }}</td>
          <td>{{ order.customerName }}</td>
          <td>
            <p-tag severity="info">{{ order.status }}</p-tag>
          </td>
          <td><strong>{{ order.total }}</strong></td>
          <td>{{ formattedDate(order.createdAt) }}</td>
        </tr>
      </ng-template>
    </p-table>
  </div>
</div>
